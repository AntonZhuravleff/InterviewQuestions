@page
@model TechQuestions.Web.Pages.Tags.IndexModel
@{
}

<div class="tag-list">
    @foreach(var tag in Model.TagsViewModel.Tags)
    {
        <div class="tag-list__item">
            <span class="tag-list__item-name">@tag.Name</span>
            <form asp-page="/Tags" class="tag-list__item-delete">
                <button asp-page-handler="Delete" onclick="askConfirmation()" asp-route-tagId="@tag.Id" type="submit" class="tag-list__item-delete-btn"></button>
            </form>
        </div>
    }
</div>

<form method="post">
    <div class="form-group mb-3">
        <label asp-for="TagToAdd">Tag to add</label>
        <input asp-for="TagToAdd.Name" class="form-control" />
        <span asp-validation-for="TagToAdd.Name"></span>
    </div>
    <div class="col-md-2 mt-4">
        <input type="submit" value="Submit tag" class="btn btn-info" />
    </div>
</form>

<script>
    function askConfirmation() {
        var result = confirm('Are you sure you want to delete this tag?');
        if (!result) {
            event.preventDefault();
        }
    }
</script>